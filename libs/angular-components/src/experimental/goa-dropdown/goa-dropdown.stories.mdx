import {
  Meta,
  Canvas,
  Story,
  ArgsTable,
  Description,
} from '@storybook/addon-docs/blocks';
import { moduleMetadata } from '@storybook/angular';
import { action } from '@storybook/addon-actions';
import { WCDropdownComponent } from './goa-dropdown.component';
import { WCDropdownItemComponent } from '../goa-dropdown-item/goa-dropdown-item.component';
import { ExperimentalComponentsModule } from '../components.module.ts';
import { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
import 'goa-web-components';

<Meta
  title="Experimental/Components/WCDropdown"
  component={WCDropdownComponent}
  decorators={[
    moduleMetadata({
      imports: [ExperimentalComponentsModule],
      schemas: [CUSTOM_ELEMENTS_SCHEMA],
    }),
  ]}
  argTypes={{}}
/>

export const Template = (args) => {
  args.changed = (value) => {
    action('value was changed')(value);
  };
  return {
    template: `
    <goa-ng-dropdown name="basic" [disabled]="disabled" [isMultiSelect]="isMultiSelect" [autoComplete]="autoComplete"
    [selectedValues] = selectedValues>
      <goa-ng-dropdown-item value="1" label="Foo" > </goa-ng-dropdown-item>
      <goa-ng-dropdown-item value="2" label="Bar" ></goa-ng-dropdown-item>
      <goa-ng-dropdown-item value="3" label="Bam" ></goa-ng-dropdown-item>
      <goa-ng-dropdown-item value="4" label="Hit" ></goa-ng-dropdown-item>
      <goa-ng-dropdown-item value="5" label="Job" ></goa-ng-dropdown-item>
      <goa-ng-dropdown-item value="6" label="Test" ></goa-ng-dropdown-item>
    </goa-ng-dropdown>`,
    props: args,
  };
};

<Story
  name="Basic"
  args={{
    isMultiSelect: false,
    selectedValues: [],
    autoComplete: false,
    disabled: false,
  }}
>
  {Template.bind({})}
</Story>

<Story
  name="Multi Select"
  args={{
    isMultiSelect: true,
    selectedValues: [],
    autoComplete: false,
    disabled: false,
  }}
>
  {Template.bind({})}
</Story>

<Story
  name="Auto complete"
  args={{
    isMultiSelect: false,
    selectedValues: [],
    autoComplete: true,
    disabled: false,
  }}
>
  {Template.bind({})}
</Story>

<Story
  name="Intial Values"
  args={{
    isMultiSelect: false,
    selectedValues: ['1', '2'],
    autoComplete: false,
    disabled: false,
  }}
>
  {Template.bind({})}
</Story>
